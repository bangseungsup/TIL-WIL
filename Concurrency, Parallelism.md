### Concurrency 동시성
하나의 코어에서 여러 스레드가 번갈아가며 실행

동시성은 여러 작업이 겹치는 기간에 실행될 수 있음을 의미한다. 동시에 실행하는 것이 아니라 CPU가 작업마다 시간을 분할해 적절하게 context switching을 해서 **동시에 실행되는 것처럼 보이게 된다**.
이렇기 때문에 구현하는 것도 디버그하는 것도 어렵다.

동시성의 핵심 목표는 **유휴 시간을 최소화** 하는 것이다. 유휴 시간은 컴퓨터가 작동 가능한데도 작업을 하지 않는 시간으로 아무것도 안하고 놀고 있는 시간이라고 생각하면 된다.
현재 프로세스 또는 스레드가 I/O 작업, DB 트랜젝션 등등 외부 프로그램 실행을 기다리는 동안에 다른 프로세스 또는 스레드가 CPU 할당을 받는다.

![image](https://user-images.githubusercontent.com/118147296/220821901-1a7d5183-5433-49fa-9f64-1a15e4562922.png)

--------------

### Parallelism
동일한 시간에 독립적인 작업을 실행할 수 있음을 의미

동시성과는 달리 여러 작업을 다른 코어, 다른 프로세스, 별도의 컴퓨터 등에서 동시에 실행할 수 있다. 그래서 병렬 처리가 성능 향상에 필수적이라고 한다.

한가지 예로 분산 컴퓨팅 시스템이 있다. 분산 컴퓨팅 시스템은 단일 시스템으로 실행하는 여러 컴퓨터 시스템들로 구성되어 있다. 각 컴퓨터에 존재하는 시스템들은 네트워크로 연결될 수 있다.
이 외에도 하나의 컴퓨터에서 여러 코어를 사용하여 병렬 처리를 활용할 수 있다.

![image](https://user-images.githubusercontent.com/118147296/220822867-c72da3d9-40bd-4efa-a68b-86ff6a444452.png)

-----------

![1233](https://user-images.githubusercontent.com/118147296/220820499-69e6c25c-e780-4fd0-bf70-4fddda118c09.PNG)

 본격적으로 동시성과 병행성을 비교해보겠다. 아래 그림을 보자. 2개의 코어가 있다고 가정해보았다. 동시성의 경우에는 Core1에서만 Task를 실행하고 있다. 시간의 흐름에 따라 Task 1과 2를 번갈아가면서 실행한다. 병렬성의 경우에는 Task 1과 2를 번갈아가며 실행할 필요 없이 각 코어에서 Task를 독립적으로 실행한다. 
 
 ![image](https://user-images.githubusercontent.com/118147296/220823148-7b025548-a52f-4ac7-9537-d057c26c1f33.png)

동시성은 여러 task를 계속 번갈아가면서 실행한다. task 1이 사용하던 자원이 있다고 가정해보자. task1이 미처 끝나기 전에 task 2가 같은 자원을 접근한다면? 자원의 값이 변경되며 서로의 실행 결과에 미칠 수 있다. 또 task를 어떤 기준으로 선택하고 교환할 것인지도 고려해야 한다. 따라서 Race Condition, Deadlock, Starvation 등의 문제가 생길 수 있다. 
