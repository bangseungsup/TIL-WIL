## 스레드 제어
스레드 객체를 생성하고 메소드를 호출하면 바로 실행되는 것이 아니라 실행 대기 상태로 전환
- 실행 대기 상태란 언제든지 실행할 준비가 되어 있는 상태를 의미 
- 운영체제는 실행 대기 상태에 있는 스레드 중에서 하나를 선택해서 실행상태로 만듬
- 실행 상태의 스레드는 run() 메소드를 모두 실행하기 전에 다시 실행 대기 상태로 돌아갈 수 있음
- 실행 대기 상태에 이쓴 다른 스레드가 선택되어 실행 상태가 되기도 함
- 실행 상태에서 run() 메소드 내용이 모두 실행되면 스레드의 실행이 멈추고 종료 상태로 변경

### 스레드 상태
- 스레드 객체를 생성하고 메소드를 호출하면 곧바로 스레드가 실행되는 것처럼 보이지만 사실은 실행대기 상태로 전환
- 실행 대기 상태란 실행을 기다리고 있는 상태를 의미

#### 실행 상태
- 실행 대기 상태에 있는 스레드 중에서 운영체제는 하나의 스레드를 선택하고 CPU(코어)가 run() 메소드를 실행하도록 하는 것

#### 종료 상태
- 실행 상태에서 run() 메소드가 종료되면, 더 이상 실행할 코드가 없기 때문에 스레드의 실행을 멈추게 하는 것

> 스레드는 실행 대기 상태와 실행 상태로 번갈아 변하면서, 경우에 따라서 실행 상태에서 일시 정지 상태로 가기도 함
> 일시 정지 상태는 스레드가 실행할 수 없는 상태이며, 일시 정지 상태에서 바로 실행 상태로 돌아갈 수 없고, 실행 대기 상태로 전환 후 실행 가능

### 스레드 상태 제어
> 실행 중인 스레드의 상태를 변경하는 것
스레드 제어를 제대로 하기 위해서는 스레드의 상태 변화를 가져오는 메소드를 파악하고 있어야 함

#### 메소드
interrupt()
- 일시 정지 상태의 스레드에서 InterruptedException을 발생시켜, 예외 처리 코드(catch)에서 실행 대기 상태로 가거나 종료 상태로 갈 수 있도록 함

sleep(long mills)
- 주어진 시간 동안 스레드를 일시 정지 상태로 만듬. 주어진 시간이 지나면 자동적으로 실행 대기 상태가 됨
- ex ) Thread.sleep(1000); ->  밀리 세컨드(1/1000초) 단위 이므로, 1초 동안 일시 정지 상태로 있게 됨
```
public class SleepExample {
  public static void main(String[] args){
   for(int = 0, i < 10; i++){
   toolkit.beep();
   try{
     Thread.sleep(3000);                      ---> 3초 동안 메인 스레드를 일시 정지를 만듦
      } catch(InterruptedException e){
      // interrupt() 메소드가 호출되면 실행       ----> 3초가 지나면 일시 정지 상태에서 실행 준비 상태로 돌아오도록 함
      }
    }
   } 
```

stop()
- 스레드를 즉시 종료. 불안전한 종료를 유발하므로 사용하지 않는 것이 좋음

#### 스레드의 안전한 종료
> 스레드는 자신의 run() 메소드를 모두 실행되면 자동적으로 종료되지만, 경우에 따라서는 실행 중인 스레드를 즉시 종료해야 할 때가 있음
ex ) 동영상을 끝까지 보지 않고, 사용자가 멈춤을 요구하는 경우


stop() 메소드로 종료하게 되면 스레드가 사용 중이던 자원들이 불안전한 상태로 남겨지기 때문에 사용하지 않음

>stop 플래그를 이용하여 종료하는 방법

```
public class XXXThread extends Thread{
private boolean stop;   // stop 플레그 필드

public void run(){
  while( !stop){            ------> stop이 true가 되면 run() 종료
    스레드가 반복 실행하는 코드;
    }
  }
}
```

> interrupt() 메소드를 이용하는 방법

interrupt() 메소드는 스레드가 일시 정지 상태에 있을 때 InterruptedException을 발생시키는 역할을 하며, 이를 이용하면 run() 메소드 정상 종료 가능
```
public class InterruptExample{
  public static void main(String[] args){
    Thread thread = new PrintThread();
    threa.start();
    
    try {Thread.sleep(1000);} catch (InterruptedException e){}
    
    thread.interrupt();         ------> 스레드를 종료하기 위해 InterruptedExcption
  }
}
```






